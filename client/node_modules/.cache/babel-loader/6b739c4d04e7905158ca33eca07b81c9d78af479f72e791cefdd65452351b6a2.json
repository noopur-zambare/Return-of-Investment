{"ast":null,"code":"var _jsxFileName = \"/Users/noopurnishikantzambare/Downloads/ROI Website/client/src/components/ImportCSV.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Papa from 'papaparse';\nimport { Bar } from 'react-chartjs-2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ImportCSV() {\n  _s();\n  const [chartData, setChartData] = useState({\n    labels: [],\n    datasets: [{\n      label: 'Count',\n      data: [],\n      borderColor: 'white',\n      backgroundColor: '#defde0'\n    }]\n  });\n  const [trimDataClicked, setTrimDataClicked] = useState(false);\n  const [isTrimDataDisabled, setIsTrimDataDisabled] = useState(false);\n  const [trimmedData, setTrimmedData] = useState([]);\n  useEffect(() => {\n    Papa.parse('/static/data.csv', {\n      download: true,\n      header: true,\n      dynamicTyping: true,\n      delimiter: '',\n      complete: result => {\n        const labelCounts = {};\n        result.data.forEach(item => {\n          const label = item['req1Product'];\n          if (label) {\n            if (labelCounts[label]) {\n              labelCounts[label] += 1;\n            } else {\n              labelCounts[label] = 1;\n            }\n          }\n        });\n        setChartData(prevData => ({\n          ...prevData,\n          labels: Object.keys(labelCounts),\n          datasets: [{\n            ...prevData.datasets[0],\n            data: Object.values(labelCounts)\n          }]\n        }));\n      }\n    });\n  }, []);\n  const handleColumnClick = (event, activeElements) => {\n    if (activeElements.length > 0) {\n      const clickedLabelIndex = activeElements[0].index;\n      const clickedLabel = chartData.labels[clickedLabelIndex];\n      setTrimDataClicked(true);\n      setIsTrimDataDisabled(true);\n      Papa.parse('/static/data.csv', {\n        download: true,\n        header: true,\n        dynamicTyping: true,\n        delimiter: '',\n        step: result => {\n          const label = result.data['req1Product'];\n          if (label === clickedLabel) {\n            setTrimmedData(prevData => [...prevData, result.data]);\n          }\n        },\n        complete: () => {\n          const csvContent = Papa.unparse(trimmedData);\n          const blob = new Blob([csvContent], {\n            type: 'text/csv'\n          });\n          const url = URL.createObjectURL(blob);\n          const link = document.createElement('a');\n          link.href = url;\n          link.setAttribute('download', `trimmed_data_${clickedLabel}.csv`);\n          document.body.appendChild(link);\n          link.click();\n          document.body.removeChild(link);\n        }\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Chart 1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Bar, {\n      data: chartData,\n      options: {\n        responsive: true,\n        plugins: {\n          legend: {\n            position: 'top'\n          },\n          title: {\n            display: true,\n            text: 'Count of req1Product Values',\n            color: 'white'\n          }\n        },\n        scales: {\n          x: {\n            ticks: {\n              color: 'white'\n            }\n          },\n          y: {\n            beginAtZero: true,\n            title: {\n              display: true,\n              text: 'Count',\n              color: 'white'\n            },\n            ticks: {\n              color: 'white'\n            }\n          }\n        }\n      },\n      getElementAtEvent: handleColumnClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), trimDataClicked && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Trim Data Clicked! The button is now disabled.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      disabled: isTrimDataDisabled,\n      onClick: handleColumnClick,\n      children: \"Trim Data\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n_s(ImportCSV, \"WMJ5hq8wKh2Lau0hlgZbPp42/GU=\");\n_c = ImportCSV;\nexport default ImportCSV;\nvar _c;\n$RefreshReg$(_c, \"ImportCSV\");","map":{"version":3,"names":["React","useState","useEffect","Papa","Bar","jsxDEV","_jsxDEV","ImportCSV","_s","chartData","setChartData","labels","datasets","label","data","borderColor","backgroundColor","trimDataClicked","setTrimDataClicked","isTrimDataDisabled","setIsTrimDataDisabled","trimmedData","setTrimmedData","parse","download","header","dynamicTyping","delimiter","complete","result","labelCounts","forEach","item","prevData","Object","keys","values","handleColumnClick","event","activeElements","length","clickedLabelIndex","index","clickedLabel","step","csvContent","unparse","blob","Blob","type","url","URL","createObjectURL","link","document","createElement","href","setAttribute","body","appendChild","click","removeChild","children","fileName","_jsxFileName","lineNumber","columnNumber","options","responsive","plugins","legend","position","title","display","text","color","scales","x","ticks","y","beginAtZero","getElementAtEvent","disabled","onClick","_c","$RefreshReg$"],"sources":["/Users/noopurnishikantzambare/Downloads/ROI Website/client/src/components/ImportCSV.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Papa from 'papaparse';\nimport { Bar } from 'react-chartjs-2';\n\nfunction ImportCSV() {\n  const [chartData, setChartData] = useState({\n    labels: [],\n    datasets: [\n      {\n        label: 'Count',\n        data: [],\n        borderColor: 'white',\n        backgroundColor: '#defde0',\n      },\n    ],\n  });\n\n  const [trimDataClicked, setTrimDataClicked] = useState(false);\n  const [isTrimDataDisabled, setIsTrimDataDisabled] = useState(false);\n  const [trimmedData, setTrimmedData] = useState([]);\n\n  useEffect(() => {\n    Papa.parse('/static/data.csv', {\n      download: true,\n      header: true,\n      dynamicTyping: true,\n      delimiter: '',\n      complete: (result) => {\n        const labelCounts = {};\n\n        result.data.forEach((item) => {\n          const label = item['req1Product'];\n\n          if (label) {\n            if (labelCounts[label]) {\n              labelCounts[label] += 1;\n            } else {\n              labelCounts[label] = 1;\n            }\n          }\n        });\n\n        setChartData((prevData) => ({\n          ...prevData,\n          labels: Object.keys(labelCounts),\n          datasets: [\n            {\n              ...prevData.datasets[0],\n              data: Object.values(labelCounts),\n            },\n          ],\n        }));\n      },\n    });\n  }, []);\n\n  const handleColumnClick = (event, activeElements) => {\n    if (activeElements.length > 0) {\n      const clickedLabelIndex = activeElements[0].index;\n      const clickedLabel = chartData.labels[clickedLabelIndex];\n\n      setTrimDataClicked(true);\n      setIsTrimDataDisabled(true);\n\n      Papa.parse('/static/data.csv', {\n        download: true,\n        header: true,\n        dynamicTyping: true,\n        delimiter: '',\n        step: (result) => {\n          const label = result.data['req1Product'];\n          if (label === clickedLabel) {\n            setTrimmedData((prevData) => [...prevData, result.data]);\n          }\n        },\n        complete: () => {\n          const csvContent = Papa.unparse(trimmedData);\n          const blob = new Blob([csvContent], { type: 'text/csv' });\n          const url = URL.createObjectURL(blob);\n          const link = document.createElement('a');\n          link.href = url;\n          link.setAttribute('download', `trimmed_data_${clickedLabel}.csv`);\n          document.body.appendChild(link);\n          link.click();\n          document.body.removeChild(link);\n        },\n      });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Chart 1</h2>\n      <Bar\n        data={chartData}\n        options={{\n          responsive: true,\n          plugins: {\n            legend: {\n              position: 'top',\n            },\n            title: {\n              display: true,\n              text: 'Count of req1Product Values',\n              color: 'white',\n            },\n          },\n          scales: {\n            x: {\n              ticks: {\n                color: 'white',\n              },\n            },\n            y: {\n              beginAtZero: true,\n              title: {\n                display: true,\n                text: 'Count',\n                color: 'white',\n              },\n              ticks: {\n                color: 'white',\n              },\n            },\n          },\n        }}\n        getElementAtEvent={handleColumnClick}\n      />\n      {trimDataClicked && (\n        <p>Trim Data Clicked! The button is now disabled.</p>\n      )}\n      <button\n        disabled={isTrimDataDisabled}\n        onClick={handleColumnClick}\n      >\n        Trim Data\n      </button>\n    </div>\n  );\n}\n\nexport default ImportCSV;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}